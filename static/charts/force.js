angular.module('SDWSNApp').controller('EchatsForceCtrl',function($scope,socket){
    var elem = document.getElementById('echartsforce');

    var forceChart = echarts.init(elem);

    socket.on('graph',function(graph){
        var categories = [{
            name: 'sink',
            icon:'roundRect'
        },{
            name:'ordinary',
            icon:'roundRect'
        },{
            name:'neighborhoods',
            icon: 'circle'
        },{
            name:'Sensor Data Uploads',
            icon: 'circle'
        }];
        graph.nodes.forEach(function (node,index) {
            node.itemStyle = {
                normal:{
                    borderWidth: 1,
                    shadowBlur: 10,
                    shadowColor: '#999',
                    shadowOffsetX: 5,
                    shadowOffsetY: 3,
                    opacity: 0.7
                },
                emphasis:{
                    opacity: 1
                }
            };
            node.symbolSize = (node.degree+3)*8;
            node.lable = {
                normal:{
                    show:false,
                    position: ['60%', '60%'],
                    textStyle:{
                        fontWeight:'lighter',
                        fontFamily:'Arial',
                        fontSize: 12
                    }
                },
                emphasis:{
                    show:true,
                }
            }
            node.value = 1;
            //node.category = null;
        });
        graph.links.forEach(function(link){
            //link.category = null;
            link.source = link.source.name;
            link.target = link.target.name;
        });
        option = {
            tooltip: {
                trigger: 'item',
                enterable:true
            },
            toolbox: {
                show : true,
                feature : {
                    restore : {show: true},
                    myGraph: {
                        show:true,
                        title:'拓扑图',
                        icon:'path://M963.668936 614.884228c0-11.912307-2.330068-23.308869-6.990205-34.189683-4.660136-10.880815-10.912537-20.239973-18.756179-28.079522-7.843642-7.838525-17.203824-14.090926-28.079522-18.756179-10.875698-4.665253-22.272259-6.995321-34.189683-6.990205-11.917424 0.005117-23.313985 2.335185-34.189683 6.990205-8.741082 3.741207-16.485463 8.53335-23.267936 14.337543l-203.28387-85.215824c0.186242-2.514263 0.279363-5.050016 0.279363-7.606235l-0.008186-0.008186c0-13.725606-2.685155-26.856671-8.054443-39.393195-0.73678-1.720178-1.515516-3.399423-2.320858-5.053086l100.55416-136.711661c6.922666 1.729387 14.068414 2.608407 21.442358 2.608407 11.917424-0.005117 23.313985-2.335185 34.189683-6.990205 10.875698-4.65502 20.23588-10.907421 28.079522-18.756179 7.843642-7.848759 14.096043-17.20894 18.756179-28.079522 4.660136-10.870582 6.990205-22.267143 6.990205-34.189683l-0.007163-0.007163c0-11.912307-2.330068-23.308869-6.990205-34.189683-4.660136-10.880815-10.912537-20.239973-18.756179-28.079522-7.843642-7.838525-17.203824-14.090926-28.079522-18.756179-10.875698-4.665253-22.272259-6.995321-34.189683-6.990205-11.917424 0.005117-23.313985 2.335185-34.189683 6.990205-10.875698 4.65502-20.23588 10.907421-28.079522 18.756179-7.843642 7.848759-14.096043 17.20894-18.756179 28.079522-4.660136 10.870582-6.990205 22.267143-6.990205 34.189683-0.005117 10.240225 1.662873 20.044522 5.002944 29.413913 1.938142 5.435803 4.365424 10.571776 7.253194 15.427364l-95.287203 129.550565c-0.859577-0.393973-1.707898-0.800225-2.584871-1.176802-12.530384-5.375427-25.66145-8.05956-39.393195-8.054443-10.933003 0.004093-21.484314 1.713015-31.655977 5.114484L329.503573 189.357695c0.251733-0.558725 0.51677-1.104147 0.760317-1.671059 4.660136-10.870582 6.990205-22.267143 6.990205-34.189683l-0.007163-0.007163c0-11.912307-2.330068-23.308869-6.990205-34.189683-4.660136-10.880815-10.912537-20.239973-18.756179-28.079522-7.843642-7.838525-17.203824-14.090926-28.079522-18.756179-10.875698-4.665253-22.272259-6.995321-34.189683-6.990205-11.917424 0.005117-23.313985 2.335185-34.189683 6.990205s-20.23588 10.907421-28.079522 18.756179-14.096043 17.20894-18.756179 28.079522c-4.660136 10.870582-6.990205 22.267143-6.990205 34.189683-0.005117 10.240225 1.662873 20.044522 5.002944 29.413913 3.340071 9.369392 8.091282 17.876136 14.252609 25.51921l1.025353 1.153266c3.996011 4.494361 8.274454 8.729825 12.808724 12.68081l0 0c7.643074 6.166443 16.149818 10.917654 25.51921 14.252609 9.369392 3.334955 19.174712 5.002944 29.413913 5.002944 10.716063-0.004093 21.008476-1.906419 30.882358-5.671163L428.41328 400.750243c-3.000334 4.756327-5.680373 9.8176-7.997138 15.222703-5.17179 12.063757-7.844665 24.690332-8.036024 37.876656l-184.030363 41.143049c-3.281743-5.055133-7.001461-9.689686-11.1919-13.876032-7.843642-7.838525-17.203824-14.090926-28.079522-18.756179-10.875698-4.665253-22.272259-6.995321-34.189683-6.990205-11.917424 0.005117-23.313985 2.335185-34.189683 6.990205-10.875698 4.65502-20.23588 10.907421-28.079522 18.756179-7.843642 7.848759-14.096043 17.20894-18.756179 28.079522-4.660136 10.870582-6.990205 22.267143-6.990205 34.189683-0.005117 10.240225 1.662873 20.044522 5.002944 29.414937 3.340071 9.369392 8.091282 17.876136 14.252609 25.51921l1.025353 1.153266c3.996011 4.494361 8.274454 8.729825 12.808724 12.68081 7.643074 6.166443 16.149818 10.917654 25.51921 14.252609 9.369392 3.334955 19.174712 5.002944 29.413913 5.002944 11.917424-0.005117 23.313985-2.335185 34.189683-6.990205 10.875698-4.65502 20.23588-10.907421 28.079522-18.756179 7.843642-7.848759 14.096043-17.20894 18.756179-28.079522 2.225691-5.192256 3.903913-10.508331 5.066389-15.940041l193.367009-43.230594c0.065492 0.081864 0.125867 0.165776 0.191358 0.24764l1.181919 1.329275c4.604878 5.177929 9.534144 10.058077 14.758122 14.610766 6.304589 5.085832 13.126972 9.321296 20.450774 12.736069l-20.234857 236.245585c-0.037862 0.016373-0.076748 0.029676-0.11461 0.046049-10.875698 4.65502-20.23588 10.907421-28.079522 18.756179s-14.096043 17.20894-18.756179 28.079522c-4.660136 10.870582-6.990205 22.267143-6.990205 34.189683-0.005117 10.240225 1.662873 20.044522 5.002944 29.414937 3.340071 9.369392 8.091282 17.876136 14.252609 25.51921l1.025353 1.153266c3.996011 4.494361 8.274454 8.729825 12.808724 12.68081 7.643074 6.166443 16.149818 10.917654 25.51921 14.252609s19.174712 5.002944 29.413913 5.002944c11.917424-0.005117 23.313985-2.335185 34.189683-6.990205 10.875698-4.65502 20.23588-10.907421 28.079522-18.756179 7.843642-7.848759 14.096043-17.20894 18.756179-28.079522 4.660136-10.870582 6.990205-22.267143 6.990205-34.189683l-0.007163-0.007163c0-11.912307-2.330068-23.308869-6.990205-34.189683-4.660136-10.880815-10.912537-20.239973-18.756179-28.079522-7.843642-7.838525-17.203824-14.090926-28.079522-18.756179-0.070608-0.029676-0.141216-0.055259-0.211824-0.084934l19.683295-229.813083c4.999874-1.270946 9.911744-2.933819 14.733563-4.997827 12.530384-5.364171 23.315008-12.567223 32.352849-21.611204 0.683569-0.683569 1.336438-1.397836 1.998517-2.100848l200.329585 83.977623c-0.128937 1.950422-0.216941 3.90903-0.216941 5.888104-0.005117 10.240225 1.662873 20.044522 5.002944 29.414937 3.340071 9.369392 8.091282 17.876136 14.252609 25.51921l1.025353 1.153266c3.996011 4.494361 8.274454 8.729825 12.808724 12.68081 7.643074 6.166443 16.149818 10.917654 25.51921 14.252609 9.369392 3.334955 19.174712 5.002944 29.414937 5.002944 11.917424-0.005117 23.313985-2.335185 34.189683-6.990205 10.875698-4.65502 20.23588-10.907421 28.079522-18.756179 7.843642-7.848759 14.096043-17.20894 18.756179-28.079522 4.660136-10.870582 6.990205-22.267143 6.990205-34.189683L963.668936 614.884228z',
                        onclick: function (){
                            option.series[0].layout = 'force';
                            forceChart.setOption(option);
                        }
                    },
                    myCircular: {
                        show:true,
                        title:'和弦图',
                        icon:'path://M140.433426 562.612725c6.677073 0.00307 13.07069-1.084705 19.180851-3.2623s11.656481-5.276167 16.641005-9.293667l0.75213-0.669242c2.930749-2.606361 5.692652-5.395894 8.269337-8.352225 4.02057-4.984524 7.119141-10.530844 9.293667-16.641005s3.2623-12.502755 3.2623-19.180851c-0.00307-7.770987-1.52268-15.202237-4.558829-22.293749-3.036149-7.091512-7.113001-13.195533-12.230556-18.310018-5.117554-5.114484-11.221576-9.191336-18.310018-12.230556-7.088442-3.039219-14.519692-4.558829-22.293749-4.558829l-0.005117 0.005117c-7.767917 0-15.199167 1.51961-22.293749 4.557806-7.094582 3.039219-13.198603 7.116071-18.310018 12.230556-5.111414 5.114484-9.188266 11.218506-12.230556 18.310018-3.042289 7.091512-4.561899 14.522762-4.558829 22.293749s1.52268 15.202237 4.558829 22.293749c3.036149 7.091512 7.113001 13.195533 12.230556 18.310018s11.221576 9.191336 18.310018 12.230556C125.227096 561.093115 132.659369 562.612725 140.433426 562.612725zM938.544723 482.920708c-3.036149-7.091512-7.113001-13.195533-12.230556-18.310018-5.117554-5.114484-11.221576-9.191336-18.310018-12.230556-7.088442-3.039219-14.519692-4.558829-22.293749-4.558829l-0.005117 0.005117c-7.767917 0-15.199167 1.51961-22.293749 4.557806s-13.198603 7.116071-18.310018 12.230556c-5.111414 5.114484-9.188266 11.218506-12.230556 18.310018-3.042289 7.091512-4.561899 14.522762-4.558829 22.293749s1.52268 15.202237 4.558829 22.293749c3.036149 7.091512 7.113001 13.195533 12.230556 18.310018s11.221576 9.191336 18.310018 12.230556c7.088442 3.039219 14.519692 4.558829 22.293749 4.558829 6.677073 0.00307 13.07069-1.084705 19.180851-3.2623s11.656481-5.276167 16.641005-9.293667l0.75213-0.669242c2.930749-2.606361 5.692652-5.395894 8.269337-8.352225 4.02057-4.984524 7.119141-10.530844 9.293667-16.641005 2.174526-6.110161 3.2623-12.502755 3.2623-19.180851C943.099459 497.444493 941.579849 490.013243 938.544723 482.920708zM114.074082 390.240889c2.865257 6.644327 7.030114 12.687974 12.494569 18.130939 5.463432 5.442966 11.80793 9.601682 19.031449 12.474103 6.203282 2.470261 12.545734 3.823072 19.028379 4.056386 6.481621 0.234337 12.781094-0.594541 18.897396-2.486634l0.945535-0.343831c3.685949-1.338485 7.283894-2.910283 10.770298-4.705162 5.578042-3.145643 10.506285-7.154957 14.784728-12.027941 4.278443-4.874007 7.65126-10.412141 10.119475-16.617469 2.868327-7.222495 4.202719-14.688537 4.003174-22.400173s-1.733481-14.889105-4.598738-21.533432-7.030114-12.687974-12.494569-18.130939c-5.463432-5.442966-11.80793-9.601682-19.031449-12.474103l-0.00614 0.00307c-7.218402-2.870374-14.684444-4.204765-22.400173-4.003174-7.715729 0.201591-14.893198 1.734504-21.533432 4.598738-6.640234 2.864234-12.68388 7.028067-18.130939 12.494569-5.447059 5.465478-9.605775 11.809977-12.474103 19.031449-2.868327 7.222495-4.202719 14.688537-4.003174 22.400173C109.675912 376.419092 111.208824 383.597585 114.074082 390.240889zM912.068721 620.194164c-2.865257-6.644327-7.030114-12.687974-12.494569-18.130939-5.463432-5.442966-11.80793-9.601682-19.031449-12.474103l-0.00614 0.00307c-7.218402-2.870374-14.684444-4.204765-22.400173-4.003174-7.715729 0.201591-14.893198 1.734504-21.533432 4.598738-6.640234 2.864234-12.68388 7.028067-18.130939 12.494569-5.447059 5.465478-9.605775 11.809977-12.474103 19.031449-2.868327 7.222495-4.202719 14.688537-4.003174 22.400173 0.200568 7.711636 1.733481 14.889105 4.598738 21.533432 2.865257 6.644327 7.030114 12.687974 12.494569 18.130939 5.463432 5.442966 11.80793 9.601682 19.031449 12.474103 6.203282 2.470261 12.545734 3.823072 19.028379 4.056386 6.481621 0.234337 12.781094-0.594541 18.897396-2.486634l0.945535-0.343831c3.685949-1.338485 7.283894-2.910283 10.770298-4.705162 5.578042-3.145643 10.506285-7.154957 14.784728-12.027941 4.278443-4.874007 7.65126-10.412141 10.119475-16.617469 2.868327-7.222495 4.202719-14.688537 4.003174-22.400173C916.466891 634.015961 914.933979 626.838492 912.068721 620.194164zM565.903677 110.284779c-3.039219-7.094582-7.116071-13.198603-12.230556-18.310018-5.114484-5.111414-11.218506-9.188266-18.310018-12.230556-7.091512-3.042289-14.522762-4.561899-22.293749-4.557806-7.770987 0.00307-15.202237 1.52268-22.293749 4.557806-7.091512 3.036149-13.195533 7.113001-18.310018 12.230556-5.114484 5.117554-9.191336 11.221576-12.230556 18.310018-3.039219 7.088442-4.557806 14.519692-4.557806 22.293749-0.00307 6.677073 1.083681 13.07069 3.2623 19.179828 2.177596 6.110161 5.276167 11.656481 9.293667 16.641005l0.669242 0.75213c2.606361 2.930749 5.395894 5.692652 8.352225 8.269337 4.983501 4.02057 10.530844 7.119141 16.641005 9.293667 6.109138 2.174526 12.502755 3.2623 19.179828 3.2623 7.770987-0.00307 15.202237-1.52268 22.293749-4.557806 7.091512-3.036149 13.195533-7.113001 18.310018-12.230556 5.114484-5.117554 9.191336-11.221576 12.230556-18.310018 3.039219-7.088442 4.557806-14.519692 4.557806-22.293749l-0.005117-0.005117C570.462506 124.811634 568.942897 117.380384 565.903677 110.284779zM565.903677 855.55766c-3.039219-7.094582-7.116071-13.198603-12.230556-18.310018-5.114484-5.111414-11.218506-9.188266-18.310018-12.230556-7.091512-3.042289-14.522762-4.561899-22.293749-4.558829s-15.202237 1.52268-22.293749 4.558829c-7.091512 3.036149-13.195533 7.113001-18.310018 12.230556-5.114484 5.117554-9.191336 11.221576-12.230556 18.310018-3.039219 7.088442-4.557806 14.519692-4.557806 22.293749-0.00307 6.677073 1.083681 13.07069 3.2623 19.180851 2.177596 6.110161 5.276167 11.656481 9.293667 16.641005l0.669242 0.75213c2.606361 2.930749 5.395894 5.692652 8.352225 8.269337 4.983501 4.02057 10.530844 7.119141 16.641005 9.293667 6.109138 2.174526 12.502755 3.2623 19.179828 3.2623 7.770987-0.00307 15.202237-1.52268 22.293749-4.558829 7.091512-3.036149 13.195533-7.113001 18.310018-12.230556s9.191336-11.221576 12.230556-18.310018c3.039219-7.088442 4.557806-14.519692 4.557806-22.293749l-0.005117-0.005117C570.462506 870.083491 568.942897 862.652242 565.903677 855.55766zM724.726939 266.441305c2.78237 5.857405 6.534833 11.147898 11.256368 15.869433 5.497201 5.493108 11.82635 9.673313 18.987447 12.540617 7.161097 2.868327 14.360056 4.300956 21.594831 4.298909 7.235798-0.002047 14.433734-1.434675 21.594831-4.298909 7.161097-2.863211 13.490246-7.04444 18.987447-12.541641l0-0.007163c5.493108-5.493108 9.673313-11.822257 12.541641-18.987447 2.868327-7.166213 4.300956-14.364149 4.298909-21.594831s-1.434675-14.429641-4.298909-21.594831c-2.863211-7.166213-7.04444-13.495362-12.541641-18.987447-5.497201-5.493108-11.82635-9.673313-18.987447-12.540617-7.161097-2.868327-14.360056-4.300956-21.594831-4.298909s-14.433734 1.434675-21.594831 4.298909c-7.161097 2.863211-13.490246 7.043417-18.987447 12.540617-4.723581 4.719488-8.476045 10.008958-11.256368 15.869433-2.780323 5.860475-4.511757 11.972683-5.195326 18.33867l-0.059352 1.004887c-0.229221 3.91517-0.209778 7.840572 0.059352 11.752672C720.212112 254.470669 721.943546 260.582877 724.726939 266.441305zM290.160519 728.125339c-5.497201-5.493108-11.82635-9.673313-18.987447-12.540617s-14.360056-4.300956-21.594831-4.298909c-7.235798 0.002047-14.433734 1.435699-21.594831 4.298909s-13.490246 7.04444-18.987447 12.540617c-4.723581 4.719488-8.476045 10.008958-11.256368 15.869433-2.780323 5.860475-4.511757 11.972683-5.195326 18.33867l-0.059352 1.004887c-0.229221 3.91517-0.209778 7.840572 0.059352 11.752672 0.680499 6.367011 2.412956 12.480242 5.195326 18.33867 2.78237 5.858428 6.534833 11.147898 11.256368 15.869433 5.497201 5.493108 11.82635 9.673313 18.987447 12.541641 7.161097 2.868327 14.360056 4.300956 21.594831 4.298909 7.235798-0.002047 14.433734-1.435699 21.594831-4.298909 7.161097-2.863211 13.490246-7.04444 18.987447-12.540617l0-0.007163c5.493108-5.493108 9.673313-11.822257 12.540617-18.987447 2.868327-7.166213 4.300956-14.364149 4.298909-21.594831s-1.434675-14.429641-4.298909-21.594831C299.838949 739.946572 295.65772 733.617423 290.160519 728.125339zM806.26193 333.472977l-0.434905 0.907673c-1.693572 3.53757-3.15997 7.178493-4.389984 10.902304-1.777483 6.152117-2.486634 12.465916-2.12643 18.940374 0.360204 6.475482 1.832741 12.791327 4.418636 18.947538 3.01159 7.164167 7.290033 13.427824 12.834306 18.790972 5.544273 5.363148 11.666714 9.41237 18.365276 12.146645 6.699586 2.734274 13.904685 4.130064 21.617343 4.187369 7.712659 0.057305 15.152095-1.418302 22.320355-4.428869l0.00307-0.00614c7.16212-3.007497 13.425777-7.28594 18.790972-12.834306 5.365194-5.548366 9.414417-11.670807 12.146645-18.365276 2.732228-6.694469 4.129041-13.900591 4.187369-21.617343 0.059352-7.716752-1.417279-15.156188-4.428869-22.320355-3.01159-7.164167-7.290033-13.427824-12.834306-18.790972-5.544273-5.363148-11.666714-9.41237-18.365276-12.146645-6.699586-2.734274-13.904685-4.130064-21.617343-4.187369-7.712659-0.057305-15.152095 1.418302-22.320355 4.428869-6.158257 2.581802-11.631922 6.060019-16.422018 10.43363C813.216319 322.835709 809.302173 327.838653 806.26193 333.472977zM222.655056 671.200862c2.732228-6.694469 4.129041-13.900591 4.187369-21.617343 0.059352-7.716752-1.417279-15.156188-4.428869-22.320355s-7.290033-13.426801-12.834306-18.790972-11.666714-9.41237-18.365276-12.146645c-6.699586-2.734274-13.904685-4.130064-21.617343-4.187369-7.712659-0.057305-15.152095 1.418302-22.320355 4.428869-6.158257 2.581802-11.631922 6.060019-16.422018 10.43363-4.790096 4.373611-8.705266 9.377578-11.744485 15.010879l-0.434905 0.907673c-1.693572 3.53757-3.15997 7.178493-4.389984 10.902304-1.777483 6.152117-2.486634 12.465916-2.12643 18.940374 0.360204 6.475482 1.832741 12.791327 4.418636 18.947538 3.01159 7.164167 7.290033 13.426801 12.834306 18.790972 5.544273 5.363148 11.666714 9.41237 18.365276 12.146645 6.699586 2.734274 13.904685 4.130064 21.617343 4.187369s15.152095-1.418302 22.320355-4.428869l0.00307-0.00614c7.16212-3.007497 13.425777-7.28594 18.790972-12.834306C215.873606 684.017772 219.922828 677.896354 222.655056 671.200862zM603.885733 188.221826c3.093455 5.607718 7.05672 10.5728 11.889795 14.896268 4.833075 4.323469 10.340509 7.748475 16.522302 10.273994 7.194866 2.935865 14.648628 4.339842 22.36231 4.211928s14.904455-1.594311 21.575388-4.397147 12.752442-6.91141 18.246573-12.3247c5.494131-5.412266 9.711176-11.717879 12.651135-18.914792l-0.00307-0.00614c2.937912-7.190773 4.341888-14.644535 4.211928-22.36231-0.12996-7.717775-1.595334-14.909571-4.397147-21.575388s-6.909363-12.748349-12.3247-18.246573-11.718903-9.715269-18.914792-12.651135-14.648628-4.339842-22.36231-4.211928-14.904455 1.594311-21.575388 4.397147c-6.66991 2.803859-12.752442 6.91141-18.246573 12.3247s-9.711176 11.717879-12.651135 18.914792c-2.52859 6.179746-3.939729 12.509918-4.234441 18.989493-0.294712 6.479575 0.475837 12.786211 2.309602 18.918885l0.334621 0.949628C600.585571 181.106778 602.1236 184.719048 603.885733 188.221826L603.885733 188.221826zM425.084465 827.941696c-2.801812-6.665817-6.909363-12.748349-12.3247-18.246573-5.414313-5.498224-11.718903-9.715269-18.914792-12.651135s-14.648628-4.339842-22.36231-4.211928c-7.712659 0.127913-14.904455 1.594311-21.575388 4.397147s-12.752442 6.91141-18.246573 12.3247c-5.494131 5.41329-9.711176 11.717879-12.651135 18.914792-2.52859 6.179746-3.939729 12.509918-4.234441 18.989493s0.475837 12.786211 2.309602 18.918885l0.334621 0.949628c1.303692 3.698229 2.841721 7.310499 4.604878 10.813277 3.093455 5.607718 7.05672 10.5728 11.889795 14.896268 4.833075 4.323469 10.340509 7.748475 16.522302 10.273994 7.194866 2.935865 14.648628 4.339842 22.36231 4.211928s14.904455-1.594311 21.575388-4.397147c6.66991-2.803859 12.752442-6.91141 18.246573-12.3247 5.494131-5.41329 9.711176-11.717879 12.651135-18.914792l-0.00307-0.00614c2.937912-7.190773 4.341888-14.644535 4.211928-22.36231C429.351652 841.799308 427.886277 834.607512 425.084465 827.941696zM817.150932 728.128409c-4.719488-4.723581-10.008958-8.476045-15.869433-11.256368-5.860475-2.780323-11.972683-4.511757-18.33867-5.195326l-1.004887-0.059352c-3.91517-0.229221-7.840572-0.209778-11.752672 0.059352-6.367011 0.680499-12.480242 2.412956-18.33867 5.195326-5.858428 2.78237-11.147898 6.534833-15.869433 11.256368-5.493108 5.497201-9.673313 11.82635-12.540617 18.987447s-4.300956 14.360056-4.298909 21.594831c0.002047 7.235798 1.435699 14.433734 4.298909 21.594831s7.04444 13.490246 12.540617 18.987447l0.007163 0c5.493108 5.493108 11.822257 9.673313 18.987447 12.540617 7.166213 2.868327 14.364149 4.300956 21.594831 4.298909s14.429641-1.434675 21.594831-4.298909c7.166213-2.863211 13.495362-7.043417 18.987447-12.540617 5.493108-5.497201 9.673313-11.82635 12.540617-18.987447 2.868327-7.161097 4.300956-14.360056 4.298909-21.594831-0.002047-7.235798-1.435699-14.433734-4.298909-21.594831C826.829362 739.954759 822.648133 733.62561 817.150932 728.128409zM290.164612 201.141066c-4.719488-4.723581-10.008958-8.476045-15.869433-11.256368-5.860475-2.780323-11.972683-4.511757-18.33867-5.195326l-1.004887-0.059352c-3.91517-0.229221-7.840572-0.209778-11.752672 0.059352-6.368034 0.680499-12.480242 2.412956-18.33867 5.195326-5.858428 2.78237-11.147898 6.534833-15.869433 11.256368-5.493108 5.497201-9.673313 11.82635-12.540617 18.987447-2.868327 7.161097-4.300956 14.360056-4.298909 21.594831 0.002047 7.235798 1.434675 14.433734 4.298909 21.594831 2.863211 7.161097 7.04444 13.490246 12.540617 18.987447l0.007163 0c5.493108 5.493108 11.822257 9.673313 18.987447 12.540617s14.364149 4.300956 21.594831 4.298909 14.429641-1.434675 21.594831-4.298909c7.166213-2.863211 13.495362-7.04444 18.987447-12.540617 5.493108-5.497201 9.673313-11.82635 12.541641-18.987447 2.868327-7.161097 4.300956-14.360056 4.298909-21.594831-0.002047-7.235798-1.434675-14.433734-4.298909-21.594831C299.842019 212.967416 295.661813 206.638267 290.164612 201.141066zM702.592826 808.441573c-4.41659-4.750187-9.456373-8.619308-15.117302-11.607362l-0.911766-0.426719c-3.552919-1.660826-7.207146-3.094478-10.94119-4.290723-6.16849-1.722224-12.487406-2.373047-18.959817-1.953492-6.471388 0.419556-12.773931 1.949398-18.906605 4.590552-7.136537 3.076058-13.360286 7.411807-18.673292 13.004175s-9.305947 11.751648-11.978822 18.47477c-2.672876 6.724145-4.004197 13.941524-3.990894 21.654182s1.556449 15.138792 4.631484 22.279423l0.00614 0.002047c3.071965 7.134491 7.407714 13.359262 13.004175 18.673292 5.597485 5.314029 11.755742 9.307993 18.47477 11.978822 6.719028 2.671852 13.93743 4.002151 21.654182 3.990894s15.142885-1.554402 22.279423-4.631484c7.136537-3.076058 13.360286-7.411807 18.673292-13.004175s9.305947-11.751648 11.978822-18.47477c2.672876-6.724145 4.004197-13.941524 3.990894-21.654182s-1.556449-15.138792-4.631484-22.279423C710.537775 818.633702 707.010439 813.19176 702.592826 808.441573zM325.978283 204.344015c5.597485 5.314029 11.755742 9.307993 18.47477 11.978822s13.93743 4.002151 21.654182 3.990894 15.142885-1.554402 22.279423-4.631484c7.135514-3.077082 13.360286-7.411807 18.673292-13.004175 5.313006-5.593392 9.305947-11.751648 11.978822-18.47477s4.004197-13.941524 3.990894-21.654182-1.556449-15.138792-4.631484-22.279423c-2.638083-6.133697-6.16542-11.57564-10.582009-16.325827-4.41659-4.750187-9.456373-8.619308-15.117302-11.607362l-0.911766-0.426719c-3.552919-1.660826-7.207146-3.094478-10.942213-4.290723-6.16849-1.722224-12.487406-2.373047-18.959817-1.953492-6.471388 0.419556-12.773931 1.949398-18.906605 4.590552-7.136537 3.077082-13.360286 7.411807-18.673292 13.004175s-9.305947 11.751648-11.978822 18.47477-4.004197 13.941524-3.990894 21.654182 1.556449 15.138792 4.631484 22.279423l0.00614 0.002047C316.046073 192.805214 320.380798 199.028962 325.978283 204.344015z',
                        onclick: function (){
                            option.series[0].layout = 'circular';
                            option.series[0].lineStyle.normal.curveness = 0.2;
                            forceChart.setOption(option);
                        }
                    },
                    saveAsImage : {
                        show: true
                    }
                }
            },
            legend: {
                data: categories
            },
            animationDuration: 1500,
            animationEasingUpdate: 'quinticInOut',
            series : [
                {
                    name: 'neighborhoods',
                    type: 'graph',
                    layout: 'force',
                    zlevel: 1,
                    draggable: true,
                    nodes: graph.nodes,
                    links: graph.links,
                    categories: categories,
                    roam: true,
                    label: {
                        normal: {
                            position: 'right',
                            formatter: '{b}'
                        }
                    },
                    force: {
                        initLayout: 'circular',
                        gravity: 0,
                        repulsion: 30,
                        edgeLength: 100,
                        repulsion: 20,
                    },
                    lineStyle: {
                        normal: {
                            curveness: 0.3
                        }
                    }
                }
            ]
        };
        forceChart.setOption(option);
    });
});


    
